(function(e,t){e(["JC.BaseMVC"],function(){function n(e){e&&(e=$(e));if(JC.BaseMVC.getInstance(e,n))return JC.BaseMVC.getInstance(e,n);JC.BaseMVC.getInstance(e,n,this),this._model=new n.Model(e),this._view=new n.View(this._model),this._init()}var e=$(document),t=$(window);return JC.MultiChangeLogic=n,n.init=function(e){var t=[];return e=$(e||document),e.length&&(e.hasClass("js_bizsMultiChangeLogic")?t.push(new n(e)):e.find(".js_bizsMultiChangeLogic").each(function(){t.push(new n(this))})),t},JC.BaseMVC.build(n),JC.f.extendObject(n.prototype,{_beforeInit:function(){},_initHanlderEvent:function(){var e=this,t;e._model.bclTrigger().on("change",function(){var t=e._model.bclChangeCleanTarget(),n=$(this);t.length&&$.each(t,function(){var e=$(this);/(input|textarea|select)/i.test(e.prop("nodeName").toLowerCase())?e.val(""):e.html("")}),e.trigger("itemchange",[n])}),e.on("itemchange",function(t,n){var r=n,i,s,o=e._model.isDisable(r),u=e._model.isDisplay(r);e._model.bclHideTarget().each(function(){var e=$(this);e[u?"show":"hide"]()}),e._model.bclDisabledTarget().each(function(){var e=$(this);e.prop("disabled",o)}),r.attr("bclselfdisplaytarget")&&(i=$(JC.f.parentSelector(n,r.attr("bclselfdisplaytarget"))),$.each(i,function(){$(this).show()}),r.attr("bclselfhidetarget")&&(s=$(JC.f.parentSelector(n,r.attr("bclselfhidetarget"))),s.length&&$.each(s,function(){var e=$(this);e.hide()}))),r.attr("bclselfdisplayscript")&&(i=JC.f.scriptContent(r.attr("bclselfdisplayscript")),e._model.bclHideScriptBox()&&$(e._model.bclHideScriptBox()).html(i))}),e._model.bclTriggerChangeOnInit()&&(t=e._model.bclTrigger(!0))&&!t.prop("disabled")&&t.trigger("change")},_inited:function(){JC.log("_inited:",(new Date).getTime())}}),n.Model._instanceName="MultiChangeLogic",JC.f.extendObject(n.Model.prototype,{init:function(){},bclTrigger:function(e){var t=$(JC.f.parentSelector(this.selector(),this.attrProp("bclTrigger")));return e&&$.each(t,function(){var e=$(this);if(e.prop("checked")||e.prop("selected"))return t=e,!1}),t},bclDisabledTarget:function(){return $(JC.f.parentSelector(this.selector(),this.attrProp("bclDisabledTarget")))},bclHideTarget:function(){var e=$(JC.f.parentSelector(this.selector(),this.attrProp("bclHideTarget")));return e},bclChangeCleanTarget:function(){return $(JC.f.parentSelector(this.selector(),this.attrProp("bclChangeCleanTarget")))},bclTriggerChangeOnInit:function(){var e=!0,t=this.selector().attr("bclTriggerChangeOnInit");return t&&(e=this.boolProp("bclTriggerChangeOnInit")),e},bclHideScriptBox:function(){return this.attrProp("bclHideScriptBox")},bclDelimiter:function(e){var t="||";return this.selector().is("[bclDelimiter]")&&(t=this.selector().attr("bclDelimiter")),e&&e.is("[bclDelimiter]")&&(t=e.attr("bclDelimiter")),t},bclDelimeterItem:function(e,t){return e.split(this.bclDelimiter(t))},isDisplay:function(e){var t=this,n=e,r,i=!1,s;if(!n.length)return!1;if(/(select)/i.test(n.prop("nodeName").toLowerCase())){r=n.find(":selected");if(!r.length)return!1;!n.attr("bcldisplay")&&!r.attr("bcldisplay")?(n.attr("bcldisabled")&&(i=t.bclDelimeterItem(n.attr("bcldisabled"),n).indexOf(n.val())>-1),r.attr("bcldisabled")&&(i=JC.f.parseBool(r.attr("bcldisabled")))):(n.attr("bcldisplay")&&(i=t.bclDelimeterItem(n.attr("bcldisplay"),n).indexOf(n.val())>-1),r.attr("bcldisplay")&&(i=JC.f.parseBool(r.attr("bcldisplay"))))}else t.attrProp("bcldisplay")&&(i=t.bclDelimeterItem(t.attrProp("bcldisplay"),t.selector()).indexOf(n.val())>-1),s=n.attr("bcldisplay"),s&&(i=JC.f.parseBool(s)),/(checkbox)/i.test(n.attr("type").toLowerCase())&&(i=n.prop("checked"));return i},isDisable:function(e){var t=this,n=e,r,i=!1;if(!n.length)return!1;if(/(select)/i.test(n.prop("nodeName").toLowerCase())){r=n.find(":selected");if(!r.length)return!1;n.attr("bcldisabled")&&(i=t.bclDelimeterItem(n.attr("bcldisabled"),n).indexOf(n.val())>-1),r.attr("bcldisabled")&&(i=JC.f.parseBool(r.attr("bcldisabled")))}else t.attrProp("bcldisabled")&&(i=t.bclDelimeterItem(t.attrProp("bcldisabled"),t.selector()).indexOf(n.val())>-1),n.attr("bcldisabled")&&(i=JC.f.parseBool(n.attr("bcldisabled"))),/(checkbox)/i.test(n.attr("type").toLowerCase())&&(i=!n.prop("checked"));return i}}),JC.f.extendObject(n.View.prototype,{init:function(){}}),e.ready(function(){n.autoInit&&n.init()}),JC.MultiChangeLogic})})(typeof define=="function"&&define.amd?define:function(e,t,n){typeof e=="function"&&(n=e),typeof t=="function"&&(n=t),n&&n()},window);